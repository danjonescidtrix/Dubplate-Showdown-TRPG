/*!
 * Dubplate-Showdown-TRPG
 * 
 * 
 * @author Dan Jones
 * @version 1.0.5
 * Copyright 2017. MIT licensed.
 */
document.addEventListener("DOMContentLoaded",function(){"use strict";function e(e,t){console.log("Round: "+l),d=0,u=1,console.log(o),console.log(c),a(e,t,o,c);var s=["attackMove","defenceMove"],i=s[Math.floor(Math.random()*s.length)];switch(i){case"attackMove":var h=[];Object.keys(c.attacks).forEach(function(e,a){h.push(e)});for(var m=n(h),r=m.length,g=0;g<r;g++){var k=m[g];if(c.dubRage>=o.attacks[k].dubRageRequired){e=k,a(e,t,c,o);break}}break;case"defenceMove":console.log(c.name+" uses defence.")}o.dubRage+=20,c.dubRage+=20,console.log("Round Finished"),console.log("--------------"),l++,d=1,u=0}function a(e,a,n,o){var c,l,d,u,s;e&&(c=n.attacks[e].attack[0],l=n.attacks[e].attack[1],s=t(c,l),d=n.attacks[e].name,u=n.attacks[e].dubRageRequired,o.health-=s,n.dubRage-=u,document.getElementById("p1_health").innerHTML=n.health,document.getElementById("p2_health").innerHTML=o.health,console.log(n.name+" uses "+d),console.log(n.name+" does "+s+" damage to "+o.name),console.log(o.name+" health is now "+o.health)),a&&(s=0),console.log(n.name+" turn over"),console.log(""),o.health<=0&&console.log(o.name+" is dead, game over... "+n.name+" won!")}function t(e,a){return Math.floor(Math.random()*(a-e+1)+e)}function n(e){for(var a=e.length-1;a>0;a--){var t=Math.floor(Math.random()*(a+1)),n=e[a];e[a]=e[t],e[t]=n}return e}var o,c,l=1,d=1,u=0,s={Simula:{name:"Simula",health:100,attacks:{defaultAttack:{name:"Standard Attack",attack:[10,14],dubRageRequired:0},special1:{name:"Nasssty frog synths",attack:[25,30],dubRageRequired:50}},dubRage:0},Noisia:{name:"Noisia",health:300,attacks:{defaultAttack:{name:"Standard Attack",attack:[10,14],dubRageRequired:0},special1:{name:"Diplodoucus",attack:[25,30],dubRageRequired:100}},dubRage:0}};o=s.Simula,c=s.Noisia,document.getElementById("p1_name").innerHTML=o.name,document.getElementById("p2_name").innerHTML=c.name,document.getElementById("p1_health").innerHTML=o.health,document.getElementById("p2_health").innerHTML=c.health,document.getElementById("defaultAttack").onclick=function(){1===d&&e("defaultAttack","")},document.getElementById("special1").onclick=function(){1===d&&(o.dubRage>=o.attacks.special1.dubRageRequired?e("special1",""):console.log("You dont have enough Dub Rage for this move."))}});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMuanMiXSwibmFtZXMiOlsiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiaW5pdFJvdW5kIiwiYXR0YWNrTW92ZSIsImRlZmVuY2VNb3ZlIiwiY29uc29sZSIsImxvZyIsIlJPVU5EIiwiUDFfVFVSTiIsIlAyX1RVUk4iLCJQMSIsIlAyIiwicGxheU1vdmVQbGF5ZXIiLCJtb3ZlQXJyYXkiLCJtb3ZlIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwibGVuZ3RoIiwiYXR0YWNrQXJyYXkiLCJPYmplY3QiLCJrZXlzIiwiYXR0YWNrcyIsImZvckVhY2giLCJrZXkiLCJpbmRleCIsInB1c2giLCJzaHVmZmxlQXR0YWNrQXJyYXkiLCJzaHVmZmxlQXJyYXkiLCJhcnJheUxlbmd0aCIsImkiLCJ0aGlzRnJvbVNodWZmbGUiLCJkdWJSYWdlIiwiZHViUmFnZVJlcXVpcmVkIiwibmFtZSIsImF0dGFja2VyIiwiZGVmZW5kZXIiLCJhdHRhY2tNaW4iLCJhdHRhY2tNYXgiLCJtb3ZlTmFtZSIsImRhbWFnZSIsImF0dGFjayIsInJhbmRvbUJldHdlZW4iLCJoZWFsdGgiLCJnZXRFbGVtZW50QnlJZCIsImlubmVySFRNTCIsIm1pbiIsIm1heCIsImFycmF5IiwiaiIsInRlbXAiLCJjaGFyYWN0ZXJzIiwiU2ltdWxhIiwiZGVmYXVsdEF0dGFjayIsInNwZWNpYWwxIiwiTm9pc2lhIiwib25jbGljayJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFDQUEsU0FBQUMsaUJBQUEsbUJBQUEsV0FFQSxZQStFQSxTQUFBQyxHQUFBQyxFQUFBQyxHQUdBQyxRQUFBQyxJQUFBLFVBQUFDLEdBQ0FDLEVBQUEsRUFDQUMsRUFBQSxFQUNBSixRQUFBQyxJQUFBSSxHQUNBTCxRQUFBQyxJQUFBSyxHQUdBQyxFQUFBVCxFQUFBQyxFQUFBTSxFQUFBQyxFQUdBLElBQUFFLElBQUEsYUFBQSxlQUNBQyxFQUFBRCxFQUFBRSxLQUFBQyxNQUFBRCxLQUFBRSxTQUFBSixFQUFBSyxR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QWxDLEVBQUF1QixLQUNBbEMsU0FBQTRDLGVBQUEsYUFBQUMsVUFBQW5DLEVBQUFpQyxPQUNBM0MsU0FBQTRDLGVBQUEsYUFBQUMsVUFBQWxDLEVBQUFnQyxPQUVBM0MsU0FBQTRDLGVBQUEsaUJBQUFZLFFBQUEsV0FDQSxJQUFBaEQsR0FDQU4sRUFBQSxnQkFBQSxLQUlBRixTQUFBNEMsZUFBQSxZQUFBWSxRQUFBLFdBQ0EsSUFBQWhELElBQ0FFLEVBQUFzQixTQUFBdEIsRUFBQVksUUFBQWdDLFNBQUFyQixnQkFDQS9CLEVBQUEsV0FBQSxJQUVBRyxRQUFBQyxJQUFBIiwiZmlsZSI6InNjcmlwdHMubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy9vcGVucyB0aGUgYnVuZGxlXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbigpIHtcclxuXHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuXHJcbiAgLy8tLS0tIEdMT0JBTFMgLS0tLVxyXG4gIHZhciBST1VORCA9IDE7XHJcbiAgdmFyIFAxO1xyXG4gIHZhciBQMV9UVVJOID0gMTtcclxuICB2YXIgUDI7XHJcbiAgdmFyIFAyX1RVUk4gPSAwO1xyXG5cclxuICB2YXIgY2hhcmFjdGVycyA9IHtcclxuICAgIFNpbXVsYToge1xyXG4gICAgICBuYW1lOiAnU2ltdWxhJyxcclxuICAgICAgaGVhbHRoOiAxMDAsXHJcbiAgICAgIGF0dGFja3M6IHtcclxuICAgICAgICBkZWZhdWx0QXR0YWNrOiB7XHJcbiAgICAgICAgICBuYW1lOiAnU3RhbmRhcmQgQXR0YWNrJyxcclxuICAgICAgICAgIGF0dGFjazogW1xyXG4gICAgICAgICAgICAxMCwgMTRcclxuICAgICAgICAgIF0sXHJcbiAgICAgICAgICBkdWJSYWdlUmVxdWlyZWQ6IDBcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNwZWNpYWwxOiB7XHJcbiAgICAgICAgICBuYW1lOiAnTmFzc3N0eSBmcm9nIHN5bnRocycsXHJcbiAgICAgICAgICBhdHRhY2s6IFtcclxuICAgICAgICAgICAgMjUsIDMwXHJcbiAgICAgICAgICBdLFxyXG4gICAgICAgICAgZHViUmFnZVJlcXVpcmVkOiA1MFxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgZHViUmFnZTogMCxcclxuICAgIH0sXHJcbiAgICBOb2lzaWE6IHtcclxuICAgICAgbmFtZTogJ05vaXNpYScsXHJcbiAgICAgIGhlYWx0aDogMzAwLFxyXG4gICAgICBhdHRhY2tzOiB7XHJcbiAgICAgICAgZGVmYXVsdEF0dGFjazoge1xyXG4gICAgICAgICAgbmFtZTogJ1N0YW5kYXJkIEF0dGFjaycsXHJcbiAgICAgICAgICBhdHRhY2s6IFtcclxuICAgICAgICAgICAgMTAsIDE0XHJcbiAgICAgICAgICBdLFxyXG4gICAgICAgICAgZHViUmFnZVJlcXVpcmVkOiAwXHJcbiAgICAgICAgfSxcclxuICAgICAgICBzcGVjaWFsMToge1xyXG4gICAgICAgICAgbmFtZTogJ0RpcGxvZG91Y3VzJyxcclxuICAgICAgICAgIGF0dGFjazogW1xyXG4gICAgICAgICAgICAyNSwgMzBcclxuICAgICAgICAgIF0sXHJcbiAgICAgICAgICBkdWJSYWdlUmVxdWlyZWQ6IDEwMFxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgZHViUmFnZTogMCxcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBQMSA9IGNoYXJhY3RlcnMuU2ltdWxhO1xyXG4gIFAyID0gY2hhcmFjdGVycy5Ob2lzaWE7XHJcblxyXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwMV9uYW1lJykuaW5uZXJIVE1MID0gUDEubmFtZTtcclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncDJfbmFtZScpLmlubmVySFRNTCA9IFAyLm5hbWU7XHJcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3AxX2hlYWx0aCcpLmlubmVySFRNTCA9IFAxLmhlYWx0aDtcclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncDJfaGVhbHRoJykuaW5uZXJIVE1MID0gUDIuaGVhbHRoO1xyXG5cclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVmYXVsdEF0dGFjaycpLm9uY2xpY2sgPSBmdW5jdGlvbigpIHtcclxuICAgIGlmIChQMV9UVVJOID09PSAxKSB7XHJcbiAgICAgIGluaXRSb3VuZCgnZGVmYXVsdEF0dGFjaycsICcnKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3BlY2lhbDEnKS5vbmNsaWNrID0gZnVuY3Rpb24oKSB7XHJcbiAgICBpZiAoUDFfVFVSTiA9PT0gMSkge1xyXG4gICAgICBpZiAoUDEuZHViUmFnZSA+PSBQMS5hdHRhY2tzLnNwZWNpYWwxLmR1YlJhZ2VSZXF1aXJlZCkge1xyXG4gICAgICAgIGluaXRSb3VuZCgnc3BlY2lhbDEnLCAnJyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1lvdSBkb250IGhhdmUgZW5vdWdoIER1YiBSYWdlIGZvciB0aGlzIG1vdmUuJyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9O1xyXG5cclxuICBmdW5jdGlvbiBpbml0Um91bmQoYXR0YWNrTW92ZSwgZGVmZW5jZU1vdmUpIHtcclxuXHJcbiAgICAvL2luaXQgcm91bmRcclxuICAgIGNvbnNvbGUubG9nKCdSb3VuZDogJyArIFJPVU5EKTtcclxuICAgIFAxX1RVUk4gPSAwO1xyXG4gICAgUDJfVFVSTiA9IDE7XHJcbiAgICBjb25zb2xlLmxvZyhQMSk7XHJcbiAgICBjb25zb2xlLmxvZyhQMik7XHJcblxyXG4gICAgLy9wbGF5ZXJzIG1vdmVcclxuICAgIHBsYXlNb3ZlUGxheWVyKGF0dGFja01vdmUsIGRlZmVuY2VNb3ZlLCBQMSwgUDIpO1xyXG5cclxuICAgIC8vYm90J3MgbW92ZVxyXG4gICAgdmFyIG1vdmVBcnJheSA9IFsnYXR0YWNrTW92ZScsICdkZWZlbmNlTW92ZSddO1xyXG4gICAgdmFyIG1vdmUgPSBtb3ZlQXJyYXlbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbW92ZUFycmF5Lmxlbmd0aCldO1xyXG5cclxuICAgIHN3aXRjaCAobW92ZSkge1xyXG4gICAgICBjYXNlICdhdHRhY2tNb3ZlJzpcclxuICAgICAgICB2YXIgYXR0YWNrQXJyYXkgPSBbXTtcclxuICAgICAgICBPYmplY3Qua2V5cyhQMi5hdHRhY2tzKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSwgaW5kZXgpIHtcclxuICAgICAgICAgIGF0dGFja0FycmF5LnB1c2goa2V5KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvL3JhbmRvbWl6ZSBhdHRhY2tBcnJheSB0byBuZXcgYXJyYWN5XHJcbiAgICAgICAgdmFyIHNodWZmbGVBdHRhY2tBcnJheSA9IHNodWZmbGVBcnJheShhdHRhY2tBcnJheSk7XHJcbiAgICAgICAgdmFyIGFycmF5TGVuZ3RoID0gc2h1ZmZsZUF0dGFja0FycmF5Lmxlbmd0aDtcclxuICAgICAgICAvL2xvb3AgYXJyYXksIGNoZWNrIGR1YnJlcXVpcmVkIHZzIFAyIGR1YlJhZ2VcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5TGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIHZhciB0aGlzRnJvbVNodWZmbGUgPSBzaHVmZmxlQXR0YWNrQXJyYXlbaV07XHJcbiAgICAgICAgICAvL2lmIGF0dGFjaydzIGR1YiByYWdlIGF2YWlsYWJsZSwgdXNlIHRoaXMgYXRhY2ssIGVsc2Uga2VlcCBsb29waW5nXHJcbiAgICAgICAgICBpZiAoUDIuZHViUmFnZSA+PSBQMS5hdHRhY2tzW3RoaXNGcm9tU2h1ZmZsZV0uZHViUmFnZVJlcXVpcmVkKSB7XHJcbiAgICAgICAgICAgIGF0dGFja01vdmUgPSB0aGlzRnJvbVNodWZmbGU7XHJcbiAgICAgICAgICAgIHBsYXlNb3ZlUGxheWVyKGF0dGFja01vdmUsIGRlZmVuY2VNb3ZlLCBQMiwgUDEpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ2RlZmVuY2VNb3ZlJzpcclxuICAgICAgICBjb25zb2xlLmxvZyhQMi5uYW1lICsgXCIgdXNlcyBkZWZlbmNlLlwiKTtcclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuXHJcbiAgICBQMS5kdWJSYWdlICs9IDIwO1xyXG4gICAgUDIuZHViUmFnZSArPSAyMDtcclxuICAgIGNvbnNvbGUubG9nKCdSb3VuZCBGaW5pc2hlZCcpO1xyXG4gICAgY29uc29sZS5sb2coJy0tLS0tLS0tLS0tLS0tJyk7XHJcbiAgICBST1VORCsrO1xyXG4gICAgLy9jaGFuZ2VzIHR1cm5zXHJcbiAgICBQMV9UVVJOID0gMTtcclxuICAgIFAyX1RVUk4gPSAwO1xyXG5cclxuICB9XHJcblxyXG4gIC8vcGxheXMgdGhlIG1vdmVcclxuICBmdW5jdGlvbiBwbGF5TW92ZVBsYXllcihhdHRhY2tNb3ZlLCBkZWZlbmNlTW92ZSwgYXR0YWNrZXIsIGRlZmVuZGVyKSB7XHJcblxyXG4gICAgdmFyIGF0dGFja01pbjtcclxuICAgIHZhciBhdHRhY2tNYXg7XHJcbiAgICB2YXIgbW92ZU5hbWU7XHJcbiAgICB2YXIgZHViUmFnZVJlcXVpcmVkO1xyXG4gICAgdmFyIGRhbWFnZTtcclxuXHJcbiAgICBpZiAoYXR0YWNrTW92ZSkge1xyXG4gICAgICAvL3NldHMgdmFyaWFibGVzXHJcbiAgICAgIGF0dGFja01pbiA9IGF0dGFja2VyLmF0dGFja3NbYXR0YWNrTW92ZV0uYXR0YWNrWzBdO1xyXG4gICAgICBhdHRhY2tNYXggPSBhdHRhY2tlci5hdHRhY2tzW2F0dGFja01vdmVdLmF0dGFja1sxXTtcclxuICAgICAgZGFtYWdlID0gcmFuZG9tQmV0d2VlbihhdHRhY2tNaW4sIGF0dGFja01heCk7XHJcbiAgICAgIG1vdmVOYW1lID0gYXR0YWNrZXIuYXR0YWNrc1thdHRhY2tNb3ZlXS5uYW1lO1xyXG4gICAgICBkdWJSYWdlUmVxdWlyZWQgPSBhdHRhY2tlci5hdHRhY2tzW2F0dGFja01vdmVdLmR1YlJhZ2VSZXF1aXJlZDtcclxuICAgICAgLy9kb2VzIGRhbWFnZVxyXG4gICAgICBkZWZlbmRlci5oZWFsdGggLT0gZGFtYWdlO1xyXG4gICAgICAvL3VzZXMgZHViUmFnZVxyXG4gICAgICBhdHRhY2tlci5kdWJSYWdlIC09IGR1YlJhZ2VSZXF1aXJlZDtcclxuICAgICAgLy90YWtlcyBoZWFsdGhcclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3AxX2hlYWx0aCcpLmlubmVySFRNTCA9IGF0dGFja2VyLmhlYWx0aDtcclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3AyX2hlYWx0aCcpLmlubmVySFRNTCA9IGRlZmVuZGVyLmhlYWx0aDtcclxuICAgICAgLy9sb2dzIGNoYW5nZXNcclxuICAgICAgY29uc29sZS5sb2coYXR0YWNrZXIubmFtZSArICcgdXNlcyAnICsgbW92ZU5hbWUpO1xyXG4gICAgICBjb25zb2xlLmxvZyhhdHRhY2tlci5uYW1lICsgJyBkb2VzICcgKyBkYW1hZ2UgKyAnIGRhbWFnZSB0byAnICsgZGVmZW5kZXIubmFtZSk7XHJcbiAgICAgIGNvbnNvbGUubG9nKGRlZmVuZGVyLm5hbWUgKyAnIGhlYWx0aCBpcyBub3cgJyArIGRlZmVuZGVyLmhlYWx0aCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGRlZmVuY2VNb3ZlKSB7XHJcbiAgICAgIGRhbWFnZSA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgLy9lbmRzIHR1cm5zXHJcbiAgICBjb25zb2xlLmxvZyhhdHRhY2tlci5uYW1lICsgJyB0dXJuIG92ZXInKTtcclxuICAgIGNvbnNvbGUubG9nKCcnKTtcclxuICAgIGlmIChkZWZlbmRlci5oZWFsdGggPD0gMCkge1xyXG4gICAgICBjb25zb2xlLmxvZyhkZWZlbmRlci5uYW1lICsgJyBpcyBkZWFkLCBnYW1lIG92ZXIuLi4gJyArIGF0dGFja2VyLm5hbWUgKyAnIHdvbiEnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHJhbmRvbUJldHdlZW4obWluLCBtYXgpIHtcclxuICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkgKyBtaW4pO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gc2h1ZmZsZUFycmF5KGFycmF5KSB7XHJcbiAgICBmb3IgKHZhciBpID0gYXJyYXkubGVuZ3RoIC0gMTsgaSA+IDA7IGktLSkge1xyXG4gICAgICB2YXIgaiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChpICsgMSkpO1xyXG4gICAgICB2YXIgdGVtcCA9IGFycmF5W2ldO1xyXG4gICAgICBhcnJheVtpXSA9IGFycmF5W2pdO1xyXG4gICAgICBhcnJheVtqXSA9IHRlbXA7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXJyYXk7XHJcbiAgfVxyXG5cclxuICAvL2Nsb3NlcyB0aGUgYnVuZGxlXHJcbn0pO1xyXG4iXX0=
