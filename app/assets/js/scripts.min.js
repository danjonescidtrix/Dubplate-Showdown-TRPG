/*!
 * Dubplate-Showdown-TRPG
 * 
 * 
 * @author Dan Jones
 * @version 1.0.5
 * Copyright 2017. MIT licensed.
 */
document.addEventListener("DOMContentLoaded",function(){"use strict";function e(e,a){console.log("Round: "+c),d=0,s=1,console.log(o),console.log(l),t(e,a),setTimeout(function(){n(o,l),o.dubRage+=20,l.dubRage+=20,console.log("Round Finished"),console.log("--------------"),c++,d=1,s=0},2e3)}function a(e,a){return Math.floor(Math.random()*(a-e+1)+e)}function t(e,t){var n,c,d,s,u;e&&(n=o.attacks[e].attack[0],c=o.attacks[e].attack[1],u=a(n,c),d=o.attacks[e].name,s=o.attacks[e].dubRageRequired,l.health-=u,o.dubRage-=s,document.getElementById("p1_health").innerHTML=o.health,document.getElementById("p2_health").innerHTML=l.health,console.log(o.name+" uses "+d),console.log(o.name+" does "+u+" damage to "+l.name),console.log(l.name+" health is now "+l.health)),t&&(u=0),console.log(o.name+" turn over"),console.log(""),l.health<=0&&console.log(l.name+" is dead, game over... "+o.name+" won!")}function n(e,t){var n,o,l,c,d=["defaultAttack","special1"],s=d[Math.floor(Math.random()*d.length)];switch(s){case"defaultAttack":c=0;break;case"special1":c=t.attacks.special1.dubRageRequired}switch(t.dubRage<c&&(d=["defaultAttack","defaultAttack"],s=d[Math.floor(Math.random()*d.length)]),s){case"defaultAttack":n=t.attacks.defaultAttack.attack[0],o=t.attacks.defaultAttack.attack[1],l=t.attacks.defaultAttack.name+" (Standard)",c=t.attacks.defaultAttack.dubRageRequired;break;case"special1":n=t.attacks.special1.attack[0],o=t.attacks.special1.attack[1],l=t.attacks.special1.name+" (Special)",c=t.attacks.special1.dubRageRequired}var u=a(n,o);e.health-=u,t.dubRage-=c,console.log(t.name+" uses "+l),console.log(t.name+" does "+u+" damage to "+e.name),console.log(e.name+" health is now "+e.health),document.getElementById("p1_health").innerHTML=e.health,document.getElementById("p2_health").innerHTML=t.health,console.log(t.name+" turn over"),e.health<=0&&console.log(e.name+" is dead, game over... "+t.name+" won!")}var o,l,c=1,d=1,s=0,u={Simula:{name:"Simula",health:100,attacks:{defaultAttack:{name:"Standard Attack",attack:[10,14],dubRageRequired:0},special1:{name:"Nasssty frog synths",attack:[25,30],dubRageRequired:50}},dubRage:0},Noisia:{name:"Noisia",health:300,attacks:{defaultAttack:{name:"Standard Attack",attack:[10,14],dubRageRequired:0},special1:{name:"Diplodoucus",attack:[25,30],dubRageRequired:100}},dubRage:0}};o=u.Simula,l=u.Noisia,document.getElementById("p1_name").innerHTML=o.name,document.getElementById("p2_name").innerHTML=l.name,document.getElementById("p1_health").innerHTML=o.health,document.getElementById("p2_health").innerHTML=l.health,document.getElementById("defaultAttack").onclick=function(){1===d&&e("defaultAttack","")},document.getElementById("special1").onclick=function(){1===d&&(o.dubRage>=o.attacks.special1.dubRageRequired?e("special1",""):console.log("You dont have enough Dub Rage for this move."))}});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMuanMiXSwibmFtZXMiOlsiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiaW5pdFJvdW5kIiwiYXR0YWNrIiwiZGVmZW5jZSIsImNvbnNvbGUiLCJsb2ciLCJST1VORCIsIlAxX1RVUk4iLCJQMl9UVVJOIiwiUDEiLCJQMiIsInBsYXlNb3ZlUGxheWVyIiwic2V0VGltZW91dCIsInBsYXlNb3ZlQUkiLCJkdWJSYWdlIiwicmFuZG9tQmV0d2VlbiIsIm1pbiIsIm1heCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImF0dGFja01pbiIsImF0dGFja01heCIsIm1vdmVOYW1lIiwiZHViUmFnZVJlcXVpcmVkIiwiZGFtYWdlIiwiYXR0YWNrcyIsIm5hbWUiLCJoZWFsdGgiLCJnZXRFbGVtZW50QnlJZCIsImlubmVySFRNTCIsIm15QXJyYXkiLCJhdHRhY2tUeXBlIiwibGVuZ3RoIiwic3BlY2lhbDEiLCJkZWZhdWx0QXR0YWNrIiwiY2hhcmFjdGVycyIsIlNpbXVsYSIsIk5vaXNpYSIsIm9uY2xpY2siXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQ0FBLFNBQUFDLGlCQUFBLG1CQUFBLFdBRUEsWUErRUEsU0FBQUMsR0FBQUMsRUFBQUMsR0FDQUMsUUFBQUMsSUFBQSxVQUFBQyxHQUVBQyxFQUFBLEVBQ0FDLEVBQUEsRUFFQUosUUFBQUMsSUFBQUksR0FDQUwsUUFBQUMsSUFBQUssR0FHQUMsRUFBQVQsRUFBQUMsR0FHQVMsV0FBQSxXQUNBQyxFQUFBSixFQUFBQyxHQUNBRCxFQUFBSyxTQUFBLEdBQ0FKLEVBQUFJLFNBQUEsR0FDQVYsUUFBQUMsSUFBQSxrQkFDQUQsUUFBQUMsSUFBQSxrQkFDQUMsSUFFQUMsRUFBQSxFQUNBQyxFQUFBLEdBQ0EsS0FHQSxRQUFBTyxHQUFBQyxFQUFBQyxHQUNBLE1BQUFDLE1BQUFDLE1BQUFELEtBQUFFLFVBQUFILEVBQUFELEVBQUEsR0FBQUEsR0FJQSxRQUFBTCxHQUFBVCxFQUFBQyxHQUVBLEdBQUFrQixH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QyxPQUFBLElBQ0FGLFNBQ0FTLGVBQ0FSLEtBQUEsa0JBQ0F6QixRQUNBLEdBQUEsSUFFQXNCLGdCQUFBLEdBRUFVLFVBQ0FQLEtBQUEsY0FDQXpCLFFBQ0EsR0FBQSxJQUVBc0IsZ0JBQUEsTUFHQVYsUUFBQSxHQUlBTCxHQUFBMkIsRUFBQUMsT0FDQTNCLEVBQUEwQixFQUFBRSxPQUVBdkMsU0FBQThCLGVBQUEsV0FBQUMsVUFBQXJCLEVBQUFrQixLQUNBNUIsU0FBQThCLGVBQUEsV0FBQUMsVUFBQXBCLEVBQUFpQixLQUNBNUIsU0FBQThCLGVBQUEsYUFBQUMsVUFBQXJCLEVBQUFtQixPQUNBN0IsU0FBQThCLGVBQUEsYUFBQUMsVUFBQXBCLEVBQUFrQixPQUVBN0IsU0FBQThCLGVBQUEsaUJBQUFVLFFBQUEsV0FDQSxJQUFBaEMsR0FDQU4sRUFBQSxnQkFBQSxLQUlBRixTQUFBOEIsZUFBQSxZQUFBVSxRQUFBLFdBQ0EsSUFBQWhDLElBQ0FFLEVBQUFLLFNBQUFMLEVBQUFpQixRQUFBUSxTQUFBVixnQkFDQXZCLEVBQUEsV0FBQSxJQUVBRyxRQUFBQyxJQUFBIiwiZmlsZSI6InNjcmlwdHMubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy9vcGVucyB0aGUgYnVuZGxlXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbigpIHtcclxuXHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuXHJcbiAgLy8tLS0tIEdMT0JBTFMgLS0tLVxyXG4gIHZhciBST1VORCA9IDE7XHJcbiAgdmFyIFAxO1xyXG4gIHZhciBQMV9UVVJOID0gMTtcclxuICB2YXIgUDI7XHJcbiAgdmFyIFAyX1RVUk4gPSAwO1xyXG5cclxuICB2YXIgY2hhcmFjdGVycyA9IHtcclxuICAgIFNpbXVsYToge1xyXG4gICAgICBuYW1lOiAnU2ltdWxhJyxcclxuICAgICAgaGVhbHRoOiAxMDAsXHJcbiAgICAgIGF0dGFja3M6IHtcclxuICAgICAgICBkZWZhdWx0QXR0YWNrOiB7XHJcbiAgICAgICAgICBuYW1lOiAnU3RhbmRhcmQgQXR0YWNrJyxcclxuICAgICAgICAgIGF0dGFjazogW1xyXG4gICAgICAgICAgICAxMCwgMTRcclxuICAgICAgICAgIF0sXHJcbiAgICAgICAgICBkdWJSYWdlUmVxdWlyZWQ6IDBcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNwZWNpYWwxOiB7XHJcbiAgICAgICAgICBuYW1lOiAnTmFzc3N0eSBmcm9nIHN5bnRocycsXHJcbiAgICAgICAgICBhdHRhY2s6IFtcclxuICAgICAgICAgICAgMjUsIDMwXHJcbiAgICAgICAgICBdLFxyXG4gICAgICAgICAgZHViUmFnZVJlcXVpcmVkOiA1MFxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgZHViUmFnZTogMCxcclxuICAgIH0sXHJcbiAgICBOb2lzaWE6IHtcclxuICAgICAgbmFtZTogJ05vaXNpYScsXHJcbiAgICAgIGhlYWx0aDogMzAwLFxyXG4gICAgICBhdHRhY2tzOiB7XHJcbiAgICAgICAgZGVmYXVsdEF0dGFjazoge1xyXG4gICAgICAgICAgbmFtZTogJ1N0YW5kYXJkIEF0dGFjaycsXHJcbiAgICAgICAgICBhdHRhY2s6IFtcclxuICAgICAgICAgICAgMTAsIDE0XHJcbiAgICAgICAgICBdLFxyXG4gICAgICAgICAgZHViUmFnZVJlcXVpcmVkOiAwXHJcbiAgICAgICAgfSxcclxuICAgICAgICBzcGVjaWFsMToge1xyXG4gICAgICAgICAgbmFtZTogJ0RpcGxvZG91Y3VzJyxcclxuICAgICAgICAgIGF0dGFjazogW1xyXG4gICAgICAgICAgICAyNSwgMzBcclxuICAgICAgICAgIF0sXHJcbiAgICAgICAgICBkdWJSYWdlUmVxdWlyZWQ6IDEwMFxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgZHViUmFnZTogMCxcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBQMSA9IGNoYXJhY3RlcnMuU2ltdWxhO1xyXG4gIFAyID0gY2hhcmFjdGVycy5Ob2lzaWE7XHJcblxyXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwMV9uYW1lJykuaW5uZXJIVE1MID0gUDEubmFtZTtcclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncDJfbmFtZScpLmlubmVySFRNTCA9IFAyLm5hbWU7XHJcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3AxX2hlYWx0aCcpLmlubmVySFRNTCA9IFAxLmhlYWx0aDtcclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncDJfaGVhbHRoJykuaW5uZXJIVE1MID0gUDIuaGVhbHRoO1xyXG5cclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVmYXVsdEF0dGFjaycpLm9uY2xpY2sgPSBmdW5jdGlvbigpIHtcclxuICAgIGlmIChQMV9UVVJOID09PSAxKSB7XHJcbiAgICAgIGluaXRSb3VuZCgnZGVmYXVsdEF0dGFjaycsICcnKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3BlY2lhbDEnKS5vbmNsaWNrID0gZnVuY3Rpb24oKSB7XHJcbiAgICBpZiAoUDFfVFVSTiA9PT0gMSkge1xyXG4gICAgICBpZiAoUDEuZHViUmFnZSA+PSBQMS5hdHRhY2tzLnNwZWNpYWwxLmR1YlJhZ2VSZXF1aXJlZCkge1xyXG4gICAgICAgIGluaXRSb3VuZCgnc3BlY2lhbDEnLCAnJyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1lvdSBkb250IGhhdmUgZW5vdWdoIER1YiBSYWdlIGZvciB0aGlzIG1vdmUuJyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9O1xyXG5cclxuICBmdW5jdGlvbiBpbml0Um91bmQoYXR0YWNrLCBkZWZlbmNlKSB7XHJcbiAgICBjb25zb2xlLmxvZygnUm91bmQ6ICcgKyBST1VORCk7XHJcblxyXG4gICAgUDFfVFVSTiA9IDA7XHJcbiAgICBQMl9UVVJOID0gMTtcclxuXHJcbiAgICBjb25zb2xlLmxvZyhQMSk7XHJcbiAgICBjb25zb2xlLmxvZyhQMik7XHJcblxyXG4gICAgLy9wbGF5ZXJzIG1vdmVcclxuICAgIHBsYXlNb3ZlUGxheWVyKGF0dGFjaywgZGVmZW5jZSk7XHJcblxyXG4gICAgLy8gQWkncyBtb3ZlXHJcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICBwbGF5TW92ZUFJKFAxLCBQMik7XHJcbiAgICAgIFAxLmR1YlJhZ2UgKz0gMjA7XHJcbiAgICAgIFAyLmR1YlJhZ2UgKz0gMjA7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdSb3VuZCBGaW5pc2hlZCcpO1xyXG4gICAgICBjb25zb2xlLmxvZygnLS0tLS0tLS0tLS0tLS0nKTtcclxuICAgICAgUk9VTkQrKztcclxuICAgICAgLy9jaGFuZ2VzIHR1cm5zXHJcbiAgICAgIFAxX1RVUk4gPSAxO1xyXG4gICAgICBQMl9UVVJOID0gMDtcclxuICAgIH0sIDIwMDApO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gcmFuZG9tQmV0d2VlbihtaW4sIG1heCkge1xyXG4gICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSArIG1pbik7XHJcbiAgfVxyXG5cclxuICAvL3BsYXllciBwbGF5cyB0aGUgbW92ZVxyXG4gIGZ1bmN0aW9uIHBsYXlNb3ZlUGxheWVyKGF0dGFjaywgZGVmZW5jZSkge1xyXG5cclxuICAgIHZhciBhdHRhY2tNaW47XHJcbiAgICB2YXIgYXR0YWNrTWF4O1xyXG4gICAgdmFyIG1vdmVOYW1lO1xyXG4gICAgdmFyIGR1YlJhZ2VSZXF1aXJlZDtcclxuICAgIHZhciBkYW1hZ2U7XHJcblxyXG5cclxuICAgIGlmIChhdHRhY2spIHtcclxuICAgICAgLy9zZXRzIHZhcmlhYmxlc1xyXG4gICAgICBhdHRhY2tNaW4gPSBQMS5hdHRhY2tzW2F0dGFja10uYXR0YWNrWzBdO1xyXG4gICAgICBhdHRhY2tNYXggPSBQMS5hdHRhY2tzW2F0dGFja10uYXR0YWNrWzFdO1xyXG4gICAgICBkYW1hZ2UgPSByYW5kb21CZXR3ZWVuKGF0dGFja01pbiwgYXR0YWNrTWF4KTtcclxuICAgICAgbW92ZU5hbWUgPSBQMS5hdHRhY2tzW2F0dGFja10ubmFtZTtcclxuICAgICAgZHViUmFnZVJlcXVpcmVkID0gUDEuYXR0YWNrc1thdHRhY2tdLmR1YlJhZ2VSZXF1aXJlZDtcclxuICAgICAgLy9kb2VzIGRhbWFnZVxyXG4gICAgICBQMi5oZWFsdGggLT0gZGFtYWdlO1xyXG4gICAgICAvL3VzZXMgZHViUmFnZVxyXG4gICAgICBQMS5kdWJSYWdlIC09IGR1YlJhZ2VSZXF1aXJlZDtcclxuICAgICAgLy90YWtlcyBoZWFsdGhcclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3AxX2hlYWx0aCcpLmlubmVySFRNTCA9IFAxLmhlYWx0aDtcclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3AyX2hlYWx0aCcpLmlubmVySFRNTCA9IFAyLmhlYWx0aDtcclxuICAgICAgLy9sb2dzIGNoYW5nZXNcclxuICAgICAgY29uc29sZS5sb2coUDEubmFtZSArICcgdXNlcyAnICsgbW92ZU5hbWUpO1xyXG4gICAgICBjb25zb2xlLmxvZyhQMS5uYW1lICsgJyBkb2VzICcgKyBkYW1hZ2UgKyAnIGRhbWFnZSB0byAnICsgUDIubmFtZSk7XHJcbiAgICAgIGNvbnNvbGUubG9nKFAyLm5hbWUgKyAnIGhlYWx0aCBpcyBub3cgJyArIFAyLmhlYWx0aCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGRlZmVuY2UpIHtcclxuICAgICAgZGFtYWdlID0gMDtcclxuICAgIH1cclxuXHJcbiAgICAvL2VuZHMgdHVybnNcclxuICAgIGNvbnNvbGUubG9nKFAxLm5hbWUgKyAnIHR1cm4gb3ZlcicpO1xyXG4gICAgY29uc29sZS5sb2coJycpO1xyXG4gICAgaWYgKFAyLmhlYWx0aCA8PSAwKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFAyLm5hbWUgKyAnIGlzIGRlYWQsIGdhbWUgb3Zlci4uLiAnICsgUDEubmFtZSArICcgd29uIScpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgfVxyXG5cclxuICAvL0FJIHBsYXlzIHRoZSBtb3ZlXHJcbiAgZnVuY3Rpb24gcGxheU1vdmVBSShQMSwgUDIpIHtcclxuXHJcbiAgICAvL3BpY2tzIHJhbmRvbSBtb3ZlXHJcbiAgICB2YXIgbXlBcnJheSA9IFsnZGVmYXVsdEF0dGFjaycsICdzcGVjaWFsMSddO1xyXG4gICAgdmFyIGF0dGFja1R5cGUgPSBteUFycmF5W01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG15QXJyYXkubGVuZ3RoKV07XHJcblxyXG5cclxuICAgIHZhciBhdHRhY2tNaW47XHJcbiAgICB2YXIgYXR0YWNrTWF4O1xyXG4gICAgdmFyIG1vdmVOYW1lO1xyXG4gICAgdmFyIGR1YlJhZ2VSZXF1aXJlZDtcclxuXHJcbiAgICBzd2l0Y2ggKGF0dGFja1R5cGUpIHtcclxuICAgICAgY2FzZSAnZGVmYXVsdEF0dGFjayc6XHJcbiAgICAgICAgZHViUmFnZVJlcXVpcmVkID0gMDtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnc3BlY2lhbDEnOlxyXG4gICAgICAgIGR1YlJhZ2VSZXF1aXJlZCA9IFAyLmF0dGFja3Muc3BlY2lhbDEuZHViUmFnZVJlcXVpcmVkO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG5cclxuICAgIC8vY2hlY2tzIGlmIGhhcyBlbm91Z2ggZHViUmFnZSBmb3IgdGhpcyBhdHRhY2ssIGlmIG5vdCwgcGljayByYW5kb20gZGVmYXVsdFxyXG4gICAgaWYgKFAyLmR1YlJhZ2UgPCBkdWJSYWdlUmVxdWlyZWQpIHtcclxuICAgICAgbXlBcnJheSA9IFsnZGVmYXVsdEF0dGFjaycsICdkZWZhdWx0QXR0YWNrJ107XHJcbiAgICAgIGF0dGFja1R5cGUgPSBteUFycmF5W01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG15QXJyYXkubGVuZ3RoKV07XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vY2hlY2tzIHdoaWNoIGF0dGFja1R5cGUgaGFzIGJlZW4gcGlja2VkXHJcbiAgICBzd2l0Y2ggKGF0dGFja1R5cGUpIHtcclxuICAgICAgY2FzZSAnZGVmYXVsdEF0dGFjayc6XHJcbiAgICAgICAgYXR0YWNrTWluID0gUDIuYXR0YWNrcy5kZWZhdWx0QXR0YWNrLmF0dGFja1swXTtcclxuICAgICAgICBhdHRhY2tNYXggPSBQMi5hdHRhY2tzLmRlZmF1bHRBdHRhY2suYXR0YWNrWzFdO1xyXG4gICAgICAgIG1vdmVOYW1lID0gUDIuYXR0YWNrcy5kZWZhdWx0QXR0YWNrLm5hbWUgKyBcIiAoU3RhbmRhcmQpXCI7XHJcbiAgICAgICAgZHViUmFnZVJlcXVpcmVkID0gUDIuYXR0YWNrcy5kZWZhdWx0QXR0YWNrLmR1YlJhZ2VSZXF1aXJlZDtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnc3BlY2lhbDEnOlxyXG4gICAgICAgIGF0dGFja01pbiA9IFAyLmF0dGFja3Muc3BlY2lhbDEuYXR0YWNrWzBdO1xyXG4gICAgICAgIGF0dGFja01heCA9IFAyLmF0dGFja3Muc3BlY2lhbDEuYXR0YWNrWzFdO1xyXG4gICAgICAgIG1vdmVOYW1lID0gUDIuYXR0YWNrcy5zcGVjaWFsMS5uYW1lICsgXCIgKFNwZWNpYWwpXCI7XHJcbiAgICAgICAgZHViUmFnZVJlcXVpcmVkID0gUDIuYXR0YWNrcy5zcGVjaWFsMS5kdWJSYWdlUmVxdWlyZWQ7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcblxyXG4gICAgLy91c2VzIG1vdmVcclxuICAgIHZhciBkYW1hZ2UgPSByYW5kb21CZXR3ZWVuKGF0dGFja01pbiwgYXR0YWNrTWF4KTtcclxuICAgIFAxLmhlYWx0aCAtPSBkYW1hZ2U7XHJcblxyXG4gICAgLy91c2VzIER1YiByYWdlXHJcbiAgICBQMi5kdWJSYWdlIC09IGR1YlJhZ2VSZXF1aXJlZDtcclxuXHJcbiAgICAvL2xvZ3MgY2hhbmdlc1xyXG4gICAgY29uc29sZS5sb2coUDIubmFtZSArICcgdXNlcyAnICsgbW92ZU5hbWUpO1xyXG4gICAgY29uc29sZS5sb2coUDIubmFtZSArICcgZG9lcyAnICsgZGFtYWdlICsgJyBkYW1hZ2UgdG8gJyArIFAxLm5hbWUpO1xyXG4gICAgY29uc29sZS5sb2coUDEubmFtZSArICcgaGVhbHRoIGlzIG5vdyAnICsgUDEuaGVhbHRoKTtcclxuXHJcbiAgICAvL3Rha2VzIGhlYWx0aFxyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3AxX2hlYWx0aCcpLmlubmVySFRNTCA9IFAxLmhlYWx0aDtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwMl9oZWFsdGgnKS5pbm5lckhUTUwgPSBQMi5oZWFsdGg7XHJcblxyXG4gICAgLy9lbmRzIHR1cm5zXHJcbiAgICBjb25zb2xlLmxvZyhQMi5uYW1lICsgJyB0dXJuIG92ZXInKTtcclxuXHJcbiAgICAvL2NoZWNrcyBpZiBoZWFsdGggPCAwXHJcbiAgICBpZiAoUDEuaGVhbHRoIDw9IDApIHtcclxuICAgICAgY29uc29sZS5sb2coUDEubmFtZSArICcgaXMgZGVhZCwgZ2FtZSBvdmVyLi4uICcgKyBQMi5uYW1lICsgJyB3b24hJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvL2Nsb3NlcyB0aGUgYnVuZGxlXHJcbn0pO1xyXG4iXX0=
